<!-- 📁 templates/auto_post.html -->
<div class="max-w-4xl mx-auto">
  <h1 class="text-2xl font-bold text-indigo-700 mb-6">🛠️ キーワードから記事生成＆自動投稿</h1>

  <!-- 入力フォーム -->
  <form method="POST" action="{{ url_for('dashboard.dashboard') }}" class="bg-white p-6 rounded shadow space-y-6">
    <!-- 🔹 キーワード一括入力 -->
    <div>
      <label for="keywords" class="block text-sm font-semibold text-gray-700 mb-1">
        キーワード（1行に1つ、最大40件）
      </label>
      <textarea name="keywords" id="keywords" rows="8" required
                class="w-full border border-gray-300 rounded px-3 py-2 resize-y focus:outline-none focus:ring-2 focus:ring-indigo-400"
                placeholder="例：副業 在宅 主婦&#10;旅行 おすすめ 夏"></textarea>
      <p class="text-xs text-gray-500 mt-1">※1キーワードにつき1記事が生成されます</p>
    </div>

    <!-- 🔹 サイト選択 -->
    <div>
      <label for="site_id" class="block text-sm font-semibold text-gray-700 mb-1">
        投稿先のサイトを選択
      </label>
      <select name="site_id" id="site_id" required
              class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400">
        <option value="">-- サイトを選択してください --</option>
        {% for site in sites %}
          <option value="{{ site.id }}">{{ site.name }}（{{ site.url }}）</option>
        {% endfor %}
      </select>

      <div class="mt-2 text-right">
        <a href="{{ url_for('site.add_site') }}" class="text-sm text-indigo-600 hover:underline">
          ＋ 新しいサイトを追加
        </a>
      </div>
    </div>

    <!-- 🔹 送信ボタン -->
    <div class="text-right">
      <button type="submit"
              class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold px-5 py-2 rounded transition">
        🚀 記事生成＆保存を開始
      </button>
    </div>
  </form>

  <!-- 結果表示エリア（オプション） -->
  {% if result %}
    <div class="mt-10">
      <h2 class="text-lg font-semibold text-center text-indigo-600 mb-4">📝 記事生成結果</h2>
      <ul class="space-y-4">
        {% for item in result %}
          <li class="bg-white p-4 rounded shadow">
            <p class="font-semibold text-gray-900">タイトル：{{ item.title }}</p>
            <p class="text-sm text-gray-700">ステータス：{{ item.status }}</p>
            <p class="text-xs text-gray-500">{{ item.message }}</p>
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
</div>
